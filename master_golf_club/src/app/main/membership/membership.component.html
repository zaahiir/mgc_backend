<div class="membership-container">
  <!-- Page Title Section -->
  <div class="page-title" style="background-image: url('assets/images/golf-course-bg.jpg');">
    <div class="bg-layer"></div>
    <div class="auto-container">
      <h1>Golf Membership Plans</h1>
      <nav class="breadcrumb">
        <span class="breadcrumb-item"><a href="/">Home</a></span>
        <span class="breadcrumb-item">Membership</span>
      </nav>
    </div>
  </div>

  <!-- Pricing Section -->
  <section class="pricing-section">
    <div class="auto-container">
      <div class="sec-title">
        <span class="sub-title">Membership Plans</span>
        <h2>Choose Your Perfect Plan</h2>
      </div>

      <!-- Loading State -->
      <div *ngIf="loading" class="loading-container">
        <div class="loading-spinner"></div>
        <p>Loading membership plans...</p>
      </div>

      <!-- Error State -->
      <div *ngIf="error && !loading" class="error-container">
        <div class="error-message">
          <i class="icon-warning"></i>
          <p>{{ error }}</p>
          <button class="theme-btn btn-one" (click)="loadPlans()">Try Again</button>
        </div>
      </div>

      <!-- Plans Content -->
      <div *ngIf="!loading && !error" class="plans-container">
        <div class="plans-grid" [class.single-plan]="membershipPlans.length === 1">
          <div class="pricing-block-one" *ngFor="let plan of membershipPlans">
            <div class="pricing-table">
              <div class="table-header">
                <span class="title">{{ plan.title }}</span>
                <h2>${{ plan.price }}</h2>
                <span class="text">{{ plan.period }}</span>
              </div>
              <div class="table-content">
                <p class="plan-description">{{ plan.description }}</p>
                <ul class="feature-list">
                  <li *ngFor="let feature of plan.features"
                      [class.cancel]="!feature.included">
                    <i [class]="feature.included ? 'icon-check' : 'icon-cross'"></i>
                    {{ feature.name }}
                  </li>
                  <li *ngIf="plan.features.length === 0" class="no-features">
                    <i class="icon-info"></i>
                    No features specified for this plan
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        
        <!-- No Plans Available -->
        <div *ngIf="membershipPlans.length === 0" class="no-plans-container">
          <div class="no-plans-message">
            <i class="icon-info"></i>
            <h3>No Plans Available</h3>
            <p>No membership plans are currently available.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Current Membership Status -->
  <section class="membership-status-section">
    <div class="auto-container">
      <div class="sec-title">
        <span class="sub-title">Account Status</span>
        <h2>Your Current Memberships</h2>
        <button class="refresh-btn" (click)="refreshMemberships()" title="Refresh memberships">
          <i class="icon-refresh">üîÑ</i>
        </button>
      </div>

      <div class="membership-details">
        <div class="table-responsive">
          <table class="membership-table">
            <thead>
              <tr>
                <th>Member ID</th>
                <th>Membership Type</th>
                <th>Start Date</th>
                <th>Expiration Date</th>
                <th>Status</th>
                <th>Days Left</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let membership of currentMemberships">
                <td>
                  <strong>{{ membership.memberId || 'N/A' }}</strong>
                  <div class="member-name">{{ membership.memberName || 'Unknown' }}</div>
                </td>
                <td>{{ membership.type }}</td>
                <td>{{ membership.startDate | date:'mediumDate' }}</td>
                <td>{{ membership.expirationDate | date:'mediumDate' }}</td>
                <td>
                  <span class="status-badge"
                        [class.active]="membership.isActive"
                        [class.expired]="!membership.isActive"
                        [class.warning]="membership.daysUntilExpiry <= 30 && membership.daysUntilExpiry > 0">
                    {{ membership.status }}
                  </span>
                </td>
                <td>
                  <span class="days-left"
                        [class.warning]="membership.daysUntilExpiry <= 30 && membership.daysUntilExpiry > 0"
                        [class.expired]="membership.daysUntilExpiry <= 0">
                    {{ membership.daysUntilExpiry > 0 ? membership.daysUntilExpiry + ' days' : 'Expired' }}
                  </span>
                </td>
                <td>
                  <button class="btn-renew"
                          [disabled]="!membership.isActive"
                          (click)="renewMembership(membership)">
                    {{ membership.isActive ? 'Renew Now' : 'Renew' }}
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <!-- No Memberships Message -->
        <div *ngIf="currentMemberships.length === 0" class="no-memberships-container">
          <div class="no-memberships-message">
            <i class="icon-info"></i>
            <h3>No Memberships Found</h3>
            <p>You don't have any active memberships. Please contact the club administration to set up your membership.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits Section -->
  <section class="benefits-section">
    <div class="auto-container">
      <div class="sec-title">
        <span class="sub-title">Member Benefits</span>
        <h2>Why Choose Our Membership</h2>
      </div>

      <div class="benefits-grid">
        <div class="benefit-card">
          <div class="icon access-icon">üèåÔ∏è</div>
          <h3>Exclusive Course Access</h3>
          <p>Enjoy priority tee times and access to member-only course sections. Book up to 14 days in advance and get exclusive access to championship courses.</p>
        </div>

        <div class="benefit-card">
          <div class="icon events-icon">üèÜ</div>
          <h3>Members-Only Events</h3>
          <p>Join exclusive tournaments, social gatherings, and networking events. Connect with fellow golf enthusiasts and build lasting relationships.</p>
        </div>

        <div class="benefit-card">
          <div class="icon training-icon">‚ö°</div>
          <h3>Professional Training</h3>
          <p>Enhance your game with personalized coaching sessions from PGA professionals. Access video analysis and custom training programs.</p>
        </div>

        <div class="benefit-card">
          <div class="icon discount-icon">üí∞</div>
          <h3>Member Discounts</h3>
          <p>Save on pro shop purchases, equipment rentals, and dining. Enjoy special rates on golf cart rentals and practice facilities.</p>
        </div>
      </div>
    </div>
  </section>
</div>
